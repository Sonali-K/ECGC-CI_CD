

terminal

beafore create jar add discoveryserver instead of localhot in app.properties

then add db url spring.datasource.url=jdbc:postgresql://192.168.29.201:5432/demo_db


evertime check all container and images is removed or not then up docker compose  otherwise it will give error like 


be                 | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server

not connected to discoveryserver


cdac_ecgc@cdac-ecgc:~/Documents/ECGC-DATA/Working-DEmo-Microservices/Backup-Previous-COde-Working-Docker-Compose/1$ sudo docker-compose up --force-recreate

if ther is error regarding theamleaf then check fe-application.properties

comments  below 2 lins

#spring.thymeleaf.prefix=/WEB-INF/views/
#spring.thymeleaf.suffix=.html


then copy -fragments and all html and paste in resource template folder


then goto src folder 
 
copy 3 folder which is geneted like --common,font,js   and paste in src/java/resource static folder



then delete web-inf  --view and views folder


then delete all fe,be,discoveryserver jar file then refreash again create then run docker-compose




----after this again showing error  like 204 for fe

gurationSource.additionalUrls or make config.properties available on classpath.
fe                 | 2020-05-16 11:14:05.063  WARN 1 --- [           main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
fe                 | 2020-05-16 11:14:05.064  INFO 1 --- [           main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
fe                 | 2020-05-16 11:14:05.561  INFO 1 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
fe                 | 2020-05-16 11:14:06.312  INFO 1 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
fe                 | 2020-05-16 11:14:07.256  WARN 1 --- [           main] ockingLoadBalancerClientRibbonWarnLogger : You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
fe                 | 2020-05-16 11:14:07.391  INFO 1 --- [           main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
fe                 | 2020-05-16 11:14:07.57



---

server             | 2020-05-16 11:14:08.970  INFO 1 --- [nio-8000-exec-4] c.n.e.registry.AbstractInstanceRegistry  : Registered instance HRD-EMP-FE/9d787eb106f4:hrd-emp-fe:8082 with status UP (replication=false)
fe                 | 2020-05-16 11:14:08.973  INFO 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_HRD-EMP-FE/9d787eb106f4:hrd-emp-fe:8082 - registration status: 204
be                 | 2020-05-16 11:14:34.156  INFO 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
be                 | 2020-05-16 11





then access FE by Container ip not localhost



e.g

http://localhost:8082/


it will give whitable page error but below will work 


check fe container ip by inspect command


http://172.28.0.4:8082/



BE--it will work fine for localhost and ip also



e.g

http://127.0.0.1:8083/allEmployeeData

Discoveryserver   it will work fine for localhost and ip also



e.g

http://localhost:8000/


--after that when you click on FE-dashboard -view-detail first time it will give error like no load balancer available

e.g

er:{NFLoadBalancer:name=hrd-emp-be,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:org.springframework.cloud.netflix.ribbon.eureka.DomainExtractingServerList@79b94e24
fe                 | 2020-05-16 11:49:19.495 ERROR 1 --- [nio-8082-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: com.netflix.client.ClientException: Load balancer does not have available server for client: hrd-emp-be] with root cause
fe                 | 
fe                 | com.netflix.client.ClientException: Load balancer does not have available server for client: hrd-emp-be
fe                 | 	at com.netflix.loadbalancer.LoadBalancerContext.getServerFromLoadBalancer(LoadBalancerContext.java:483) ~[ribbon-loadbalancer-2.3.0.jar!/:2.3.0]
fe                 | 	at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:184) ~[ribbon-loadbalancer-2.3.0.jar!/:2.3.0]
fe                 | 	at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180) ~[ribbon-loadbalancer-2.3.0.jar!/:2.3.0]
fe                 | 	at rx.Observable.unsafeSubscribe(Observable.java:10327) ~[rxjava-1.3.8.jar!/:1.3.8]
fe                 | 	at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94) ~[rxjava-1.3.8.jar!/:1.3.8]
fe                 | 	at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42) ~[rxjava-1.3.8.jar!/:1.3.8]
fe                 | 	at rx.Observable.unsafeSubscribe(Observable.java:10327) ~[rxjava-1.3.8.jar!/:1.3.8]
fe                 | 	at rx.internal.operators.OperatorRetryWithPredicate$SourceSu




then fresh fe url browswer -goto link 

http://172.28.0.4:8082/


then again click on -view deatils then it will show detail then add one record check it is saving in db or not it will wok fine if not working then refresah url again try check terminal logs



